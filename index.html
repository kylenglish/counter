<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å—á–µ—Ç—á–∏–∫–∞ Genially</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; padding: 20px; display: flex; gap: 20px; background: #f0f2f5; }
        .editor { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 350px; }
        .preview-zone { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #e0e0e0; border: 2px dashed #bbb; border-radius: 12px; }
        .field { margin-bottom: 12px; }
        label { display: block; font-size: 12px; margin-bottom: 4px; font-weight: bold; color: #444; }
        input[type="text"], input[type="range"] { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        input[type="color"] { width: 100%; height: 35px; border: none; cursor: pointer; background: none; }
        .copy-btn { width: 100%; padding: 12px; background: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; margin-top: 10px; }
        h2 { font-size: 18px; margin-top: 0; color: #1a73e8; }
    </style>
</head>
<body>

<div class="editor">
    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏–¥–∂–µ—Ç–∞</h2>
    
    <div class="field">
        <label>–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä. Points, –°–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å)</label>
        <input type="text" id="labelInput" value="Score" oninput="update()">
    </div>

    <div class="field">
        <label>–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∫–æ–Ω–∫—É (–ø—É—Å—Ç–æ = ‚≠ê)</label>
        <input type="text" id="iconInput" placeholder="https://..." oninput="update()">
    </div>

    <div class="field">
        <label>–†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–∫–∏: <span id="iconSizeVal">24</span>px</label>
        <input type="range" id="iconSize" min="15" max="80" value="24" oninput="update()">
    </div>

    <div class="field">
        <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞: <span id="fontSizeVal">18</span>px</label>
        <input type="range" id="fontSize" min="12" max="40" value="18" oninput="update()">
    </div>

    <div class="field">
        <label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞</label>
        <input type="color" id="bgColor" value="#ffffff" oninput="update()">
    </div>

    <div class="field">
        <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</label>
        <input type="color" id="textColor" value="#333333" oninput="update()">
    </div>

    <div class="field">
        <label>–®—Ä–∏—Ñ—Ç (–∫–∞–∫ –≤ Genially)</label>
        <input type="text" id="fontInput" value="Arial" oninput="update()">
    </div>

    <button onclick="copyCode()" class="copy-btn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
</div>

<div class="preview-zone">
    <h3>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:</h3>
    <div id="preview-container"></div>
</div>

<script>
function update() {
    const label = document.getElementById('labelInput').value;
    const iconUrl = document.getElementById('iconInput').value;
    const iSize = document.getElementById('iconSize').value;
    const fSize = document.getElementById('fontSize').value;
    const bg = document.getElementById('bgColor').value;
    const text = document.getElementById('textColor').value;
    const font = document.getElementById('fontInput').value;

    document.getElementById('iconSizeVal').innerText = iSize;
    document.getElementById('fontSizeVal').innerText = fSize;

    const iconHtml = iconUrl 
        ? `<img src="${iconUrl}" style="width:${iSize}px; height:auto; margin-right:10px;">` 
        : `<span style="font-size:${iSize}px; margin-right:10px;">‚≠ê</span>`;

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è Genially
    const finalCode = `
<div id="wrapper" style="display: inline-block; user-select: none;">
    <div style="display: flex; align-items: center; background: ${bg}; color: ${text}; border-radius: 50px; padding: 10px 20px; font-family: '${font}', sans-serif; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.1);">
        ${iconHtml}
        <span style="font-size: ${fSize}px; font-weight: bold;">${label}: <span id="count">0</span></span>
        <div id="plus_btn" style="margin-left:15px; background:${text}; color:${bg}; border-radius:50%; width:30px; height:30px; cursor:pointer; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:20px; opacity: 0.8;">+</div>
    </div>
</div>

<script>
(function() {
    const key = 'genially_val_sum';
    const display = document.getElementById('count');
    const btn = document.getElementById('plus_btn');
    
    function refresh() {
        display.innerText = localStorage.getItem(key) || '0';
    }
    
    btn.onclick = function(e) {
        e.stopPropagation();
        let val = parseInt(localStorage.getItem(key)) || 0;
        val++;
        localStorage.setItem(key, val);
        refresh();
    };
    
    refresh();
    window.addEventListener('storage', refresh);
    setTimeout(refresh, 300);
})();
<\/script>`;

    document.getElementById('preview-container').innerHTML = finalCode;
    window.generatedCode = finalCode;
}

function copyCode() {
    const el = document.createElement('textarea');
    el.value = window.generatedCode;
    document.body.appendChild(el);
    el.select();
    document.execCommand('copy');
    document.body.removeChild(el);
    alert('–ö–æ–¥ –≥–æ—Ç–æ–≤! –í—Å—Ç–∞–≤–ª—è–π—Ç–µ –≤ Genially (Insert -> Others)');
}

update();
</script>
</body>
</html>
